define(function(){"use strict";var n,r,t,e,u,i,o,a,f,c,s,l,h,p,g,_,v,m,d,w,y,b,E,j,k,N,A,T,O,P,x,U,I,C,Y,H,D,M,S,R,X,F,K,L,V,q,z,B,G,J,Q,W,Z,$,nr,rr,tr,er,ur,ir,or,ar,fr,cr,sr,lr,hr,pr,gr,_r,vr,mr,dr,wr,yr,br,Er,jr,kr,Nr,Ar,Tr,Or,Pr,xr,Ur,Ir,Cr,Yr,Hr,Dr,Mr,Sr,Rr,Xr,Fr,Kr,Lr,Vr,qr,zr,Br,Gr,Jr,Qr,Wr,Zr,$r,nt,rt,tt,et,ut,it,ot,at,ft,ct,st,lt,ht,pt,gt,_t,vt,mt,dt,wt,yt,bt,Et,jt,kt,Nt,At,Tt,Ot,Pt,xt,Ut,It,Ct,Yt,Ht,Dt,Mt,St,Rt,Xt,Ft,Kt,Lt,Vt,qt;r=64e3;n={NO_KEY_VALUE_PAIR_IN_HASH:new Error("No key value pair in a criterion hash"),NOT_FUNCTION:new TypeError("Something is not function"),UNEXPECTED_TYPE:new TypeError("Unexpected type")};Ht=Object.prototype.toString;Tr=Array.prototype.concat;Or=Array.prototype.indexOf;xr=Array.prototype.slice;wt=function(n,r,t){return xr.call(n,r,t)};g=function(n,r){var t;t=wt(arguments,2);return N(arguments)<=2&&function(){return n.apply(r,arguments)}||function(){return n.apply(r,t.concat(wt(arguments)))}};Vr=function(){var n,r;r=arguments[0];n=wt(arguments,1);return function(){return r.apply(null,n.concat(wt(arguments)))}};l=function(n,r){return n.apply(this,r)};s=function(n,r){return n&&r};j=function(){var r,t,e,u;r=arguments;for(e=0,u=r.length;e<u;e++){t=r[e];if(Dr(t)){throw n.NOT_FUNCTION}}return function(){var n,t;t=arguments;n=r.length;while(--n>=0){t=[r[n].apply(null,t)]}return Q(t)}};E=function(n){return function(){return!l(n,arguments)}};A=function(n,r){var t,e,u,i;u=void 0;e=null;i=null;t=function(){return u=l(r,e)};return function(){e=wt(arguments);clearTimeout(i);i=x(n,t);return u}};x=function(n,r){return setTimeout(r,n)};W=function(){var r,t,e,u;r=arguments;for(e=0,u=r.length;e<u;e++){t=r[e];if(Dr(t)){throw n.NOT_FUNCTION}}return function(){var n,t,e;e=arguments;t=r.length;n=-1;while(++n<t){e=[r[n].apply(null,e)]}return Q(e)}};Ar=function(n){n=b(n);return function(){var r,t,e;for(t=0,e=n.length;t<e;t++){r=n[t];r.apply(this,arguments)}}};Ur=function(){};qr=function(n,r){r=wt(arguments,1);return function(){return l(n,v(l(vr,arguments),r))}};zr=function(n){return function(){return n.apply(null,v([this],wt(arguments)))}};Ct=function(n,r){var t,e,u,i;u=false;i=false;t=null;e=null;return function(){var o;t=wt(arguments);if(u){i=true;return e}else{u=true;e=r.apply(null,t);o=function(){return x(n,function(){if(i){e=r.apply(null,t);i=false;return o()}else{return u=false}})};o();return e}}};tr=Array.isArray;er=function(n){return!(tr(n)||cr(n))};ur=function(n){return"undefined"!==typeof n};ir=function(n){return n.length===0};or=function(n){return"function"===typeof n};fr=function(n){return"number"===typeof n};cr=function(n){return"object"===typeof n};sr=function(n){var r,t,e,u,i,o;t="undefined"!==typeof n;e=t&&"[object Object]"===Ht.call(n)&&!or(n);if(!e||!hasOwnProperty.call(n,"constructor")&&((r=n.constructor)&&or(r)&&!(r instanceof r))){return false}i=null;for(u in n){o=n[u];i=u}return Yr(u)||hasOwnProperty.call(n,i)};ar=function(n){return tr(n)||sr(n)};lr=function(n){return"string"===Dt(n)};hr=function(n){return n===0};Ir=E(tr);Yr=E(ur);Hr=E(ir);Dr=E(or);Mr=E(ar);Sr=E(fr);Rr=E(cr);Xr=E(lr);Fr=E(hr);_=function(n){return wt(n,0,N(n)-1)};v=function(n){return Tr.apply(n,wt(arguments,1))};k=function(n,r){var t,e,u;for(e=0,u=r.length;e<u;e++){t=r[e];if(n===t){return true}}return false};t=function(n,r){var t,e,u;for(e=0,u=n.length;e<u;e++){t=n[e];if(r===t){return true}}return false};e=function(n,r){return I(r,n)};u=function(n,r){return M(r,n)};i=function(n,r){return n.indexOf(r)};o=function(n,r){return wr(r,n)};a=function(n,r,t){return rt(r,t,n)};f=function(n,r){return et(r,n)};b=function(n){var r,t,e,u;u=[];for(t=0,e=n.length;t<e;t++){r=n[t];if(r){u.push(r)}}return u};N=function(n){return n.length};U=function(n,r){return wt(r,n)};I=function(){var n;n=arguments;switch(N(n)){case 0:case 1:throw new Error("Each doesn't have a signature of that arity");break;case 2:return C(n[0],n[1]);case 3:return Y(n[0],n[1],n[2]);default:return l(H,n)}};C=function(n,r){var t,e,u;for(e=0,u=r.length;e<u;e++){t=r[e];n(t)}};Y=function(n,r,t){var e,u;u=Math.min(N(r),N(t));e=-1;while(++e<u){n(r[e],t[e])}};H=function(){var n,r,t,e,u,i,o;n=arguments;t=Q(n);r=pt(n);o=l(Math.min,yr(N,r));e=-1;i=Br;u=l;while(++e<o){u(t,i(e,r))}};Q=function(n){return n[0]};S=function(n,r){var t,e,u,i;i=[];for(e=0,u=r.length;e<u;e++){t=r[e];if(n(t)){i.push(t)}}return i};K=function(n,r){var t,e,u,i;i=[];for(e=0,u=r.length;e<u;e++){t=r[e];if(!!t[n]){i.push(t)}}return i};X=function(n,r){var t,e,u,i,o,a,f;a=$r(n),e=a[0],u=a[1];f=[];for(i=0,o=r.length;i<o;i++){t=r[i];if(t[e]===u){f.push(t)}}return f};F=function(n,r){var t,e,u,i,o,a,f,c,s,l;c=gr(n),e=c[0],u=c[1];s=[n[e],n[u]],i=s[0],o=s[1];l=[];for(a=0,f=r.length;a<f;a++){t=r[a];if(t[e]===i&&t[u]===o){l.push(t)}}return l};R=function(n,r){var t,e,u,i;i=[];for(e=0,u=r.length;e<u;e++){t=r[e];if(Lr(n,t)){i.push(t)}}return i};M=function(r,t){switch(typeof r){case"string":return K(r,t);case"function":return S(r,t);case"object":switch(N(gr(r))){case 0:throw n.NO_KEY_VALUE_PAIR_IN_HASH;break;case 1:return X(r,t);case 2:return F(r,t);default:return R(r,t)}break;default:throw n.UNEXPECTED_TYPE}};q=function(n,r){var t,e,u,i;for(t=u=0,i=r.length;u<i;t=++u){e=r[t];if(n(e)){return t}}return-1};J=function(n,r){var t,e,u,i;for(t=u=0,i=r.length;u<i;t=++u){e=r[t];if(e[n]){return t}}return-1};B=function(n,r){var t,e,u,i,o,a,f;f=$r(n),u=f[0],i=f[1];for(t=o=0,a=r.length;o<a;t=++o){e=r[t];if(e[u]===i){return t}}return-1};G=function(n,r){var t,e,u,i,o,a,f,c,s,l;s=gr(n),u=s[0],i=s[1];l=[n[u],n[i]],o=l[0],a=l[1];for(t=f=0,c=r.length;f<c;t=++f){e=r[t];if(e[u]===o&&e[i]===a){return t}}return-1};z=function(n,r){var t,e,u,i;for(t=u=0,i=r.length;u<i;t=++u){e=r[t];if(Lr(n,e)){return t}}return-1};V=function(r,t){switch(typeof r){case"string":return J(r,t);case"function":return q(r,t);case"object":switch(N(gr(r))){case 0:throw n.NO_KEY_VALUE_PAIR_IN_HASH;break;case 1:return B(r,t);case 2:return G(r,t);default:return z(r,t)}break;default:throw n.UNEXPECTED_TYPE}};L=function(n,r){var t;t=V(n,r);if(t===-1){return}return Zr(t,r)};nr=function(n,r){return Or.call(r,n)};_r=function(n){return n[T(N(n))]};vr=function(){var n;return N(n=arguments)&&wt(n)||[]};mr=function(){var n,r,t,e;r=[];for(t=0,e=arguments.length;t<e;t++){n=arguments[t];if(!!n){r.push(n)}}return r};Dt=function(n){return typeof n};yt=function(n,r){switch(N(arguments)){case 1:return n.sort();case 2:if(2>N(r)){return wt(r)}switch(Dt(n)){case"string":return jt(n,r);case"array":return Et(n,r);case"function":return bt(n,r)}}};jt=function(n,r){var t,e,u;u=wr(Vr(qt,n),r);e=lr(r[0][n]);t=e&&Vt||Lt;return Br("val",u.sort(t))};qt=function(n,r){return{val:r,criteria:r[n]}};Lt=function(n,r){return n.criteria-r.criteria};Pr=String.prototype.localeCompare;Vt=function(n,r){return Pr.call(n.criteria,r.criteria)};Et=function(n,r){};bt=function(n,r){return r.sort(n)};wr=function(){var n;n=arguments;switch(N(n)){case 0:case 1:throw new Error("Map doesn't have a signature of that arity");break;case 2:return yr(n[0],n[1]);case 3:return br(n[0],n[1],n[2]);default:return l(Er,n)}};dr=function(n){return n>r&&[]||new Array(n)};yr=function(n,r){var t,e,u;t=-1;e=N(r);u=dr(e);while(++t<e){u[t]=n(r[t])}return u};br=function(n,r,t){var e,u,i;u=Math.min(N(r),N(t));e=-1;i=dr(u);while(++e<u){i[e]=n(r[e],t[e])}return i};Er=function(){var n,r,t,e,u,i,o,a;n=arguments;t=Q(n);r=pt(n);a=l(Math.min,yr(N,r));e=-1;i=Br;u=l;o=dr(a);while(++e<a){o[e]=u(t,i(e,r))}return o};Cr=E(k);Gr=function(n){return n[N(n)-2]};Qr=function(n,r){n.push(r);return n};rt=function(n,r,t){var e,u;e=-1;if(!t&&tr(r)){t=r;r=n(Q(t),_t(t));e=1}u=N(t);while(++e<u){r=n(r,t[e])}return r};tt=function(n,r,t){var e;e=-1;if(!t&&tr(r)){t=r;r=n(_r(t),Gr(t));e=N(t)-2}else{e=N(t)}while(--e>-1){r=n(r,t[e])}return r};ut=function(n,r){var t,e,u,i;i=[];for(e=0,u=r.length;e<u;e++){t=r[e];if(!n(t)){i.push(t)}}return i};ft=function(n,r){var t,e,u,i;i=[];for(e=0,u=r.length;e<u;e++){t=r[e];if(!t[n]){i.push(t)}}return i};ot=function(n,r){var t,e,u,i,o,a,f;a=$r(n),e=a[0],u=a[1];f=[];for(i=0,o=r.length;i<o;i++){t=r[i];if(t[e]!==u){f.push(t)}}return f};at=function(n,r){var t,e,u,i,o,a,f,c,s,l;c=gr(n),e=c[0],u=c[1];s=[n[e],n[u]],i=s[0],o=s[1];l=[];for(a=0,f=r.length;a<f;a++){t=r[a];if(!(t[e]===i&&t[u]===o)){l.push(t)}}return l};it=function(n,r){var t,e,u,i;i=[];for(e=0,u=r.length;e<u;e++){t=r[e];if(!Lr(n,t)){i.push(t)}}return i};et=function(r,t){switch(typeof r){case"string":return ft(r,t);case"function":return ut(r,t);case"object":switch(N(gr(r))){case 0:throw n.NO_KEY_VALUE_PAIR_IN_HASH;break;case 1:return ot(r,t);case 2:return at(r,t);default:return it(r,t)}break;default:throw n.UNEXPECTED_TYPE}};ct=function(n,r){var t,e,u,i,o,a,f;switch(arguments.length){case 2:for(e=i=0,a=r.length;i<a;e=++i){t=r[e];r[e]=n(t)}break;case 3:n=arguments[0],u=arguments[1],r=arguments[2];for(e=o=0,f=r.length;o<f;e=++o){t=r[e];r[e][u]=n(t[u])}}return r};st=function(n,r){var t;t=nr(n,r);return t!==-1&&lt(t,r)};lt=function(n,r){return Nt(r,n,1)};ht=function(n,r){var t;t=[];while(--n>=0){t.push(r)}return t};pt=function(n){return wt(n,1)};gt=function(n){var r,t,e,u;e=n.length;r=0;t=e;u=new Array(e);while(--t>-1){u[r]=n[t];r+=1}return u};Nt=g(Function.prototype.call,Array.prototype.splice);_t=function(n){return n[1]};mt=function(n,r){var t,e,u,i;i=[];for(e=0,u=n.length;e<u;e++){t=n[e];if(Cr(t,r)){i.push(t)}}return i};dt=function(n,r){return[mt(n,r),mt(r,n)]};It=function(n,r){return wt(r,0,n)};Mt=function(n,r){n.unshift(r);return n};rr=function(n,r){var t,e,u,i,o,a;t=N(arguments);if(t>=3){o=wt(arguments,1,t-1);r=_r(arguments)}i=N(r);a=dr(i);e=-1;if(t>=3){while(++e<i){u=r[e];a[e]=u[n].apply(u,o)}}else{while(++e<i){u=r[e];a[e]=u[n]()}}return a};Br=function(n,r){var t,e,u;e=N(r);u=dr(e);t=-1;while(++t<e){u[t]=r[t][n]}return u};Rt=function(n,r){var t,e,u,i,o;e=r&&-1||1;o=[];for(u=0,i=n.length;u<i;u++){t=n[u];e*=-1;o.push(t*e)}return o};Xt=function(n,r,t){var e,u,i,o,a;for(u=o=0,a=n.length;o<a;u=++o){e=n[u];i=t[u];e[r]=i}return n};h=function(n,r){if(n==null){n={}}r=U(1,arguments);I(Vr(p,n),r);return n};p=function(n,r){var t,e,u;u=[];for(t in r){e=r[t];u.push(n[t]=e)}return u};d=function(n){var r,t,e;t={};for(r in n){e=n[r];t[r]=e}return t};m=function(r){if(cr(r)){if(tr(r)){return wt(r)}else{return d(r)}}else{throw n.UNEXPECTED_TYPE}};w=function(n){var r,t,e;return Ft(n,r=tr(n)&&[]||{},t=[r],e=[n])};Ft=function(n,r,t,e){var u,i,o,a;for(i in n){o=n[i];if(Mr(o)){r[i]=o}else{a=nr(o,e);if(a===-1){r[i]=u=tr(o)&&[]||{};e.push(o);t.push(u);Ft(o,u,t,e)}else{r[i]=t[a]}}}return r};Kt=function(n){var r,t,e,u,i,o,a,f,c,s,l,h,p;o=tr(n)&&[]||{};i=n;t=o;s=[n];c=[o];f=[];u=tr(i)&&Wr(N(i))||gt(gr(i));e=N(u);while(--e>=0){a=u[e];l=i[a];if(Mr(l)){t[a]=l}else{h=nr(l,s);if(h===-1){r=tr(l)&&[]||{};t[a]=r;f.push([i,t,u,e]);i=l;t=r;u=tr(i)&&Wr(N(i))||gt(gr(i));e=N(u);s.push(i);c.push(t)}else{t[a]=c[h]}}while(hr(e)&&Fr(N(f))){p=f.pop(),i=p[0],t=p[1],u=p[2],e=p[3]}}return o};O=function(n){if(n==null){n={}}return rt(P,n,pt(arguments))};P=function(n,r){var t,e;for(t in r){e=r[t];if("undefined"===typeof n[t]){n[t]=e}}return n};gr=function(n){return Object.keys(n)};kr=function(n,r){var t,e,u,i,o,a,f,c,s,l;t=[];f=[];e=n;o=r;i=gr(r);u=N(i);while(--u>=0){a=i[u];c=o[a];if(Yr(e[a])||Mr(c)){e[a]=c;if(ar(c)){f.push(c)}}else{s=nr(c,f);if(s===-1){t.push([e,o,i,u]);f.push(c);e=e[a];o=o[a];i=gr(o);u=N(i)}}while(hr(u)&&Hr(t)){l=t.pop(),e=l[0],o=l[1],i=l[2],u=l[3]}}return n};Kr=function(n,r){var t,e,u,i;i=[];for(e=0,u=r.length;e<u;e++){t=r[e];i.push(n[t])}return i};Lr=function(n,r){var t,e;for(t in n){e=n[t];if(r[t]!==e){return false}}return true};Jr=function(n,r){var t;t=r[n];delete r[n];return t};St=function(n){return Kr(n,gr(n))};Z=function(n,r){return r.substr(0,n)};jr=function(n,r){return n.match(r)};y=function(){return Ot(",",wt(arguments))};kt=function(){return Ot(" ",wt(arguments))};At=function(){return Ot("",wt(arguments))};Tt=function(n,r){var t;t=Nr(Ot("|",gr(n)),"ig");return r.replace(t,function(r){return n[r]||r})};Ot=function(n,r){return r.join(n)};Pt=function(n,r){return r.split(n)};Ut=function(n,r){return r.substr(n)};T=function(n){return n-1};$=function(n){return n+1};pr=function(n){var r,t,e;t=N(n);r=-1;e=[];while(++r<t){e.push(n.eq(r))}return e};Nr=function(n,r){r=r||"";return new RegExp(n,r)};Wr=function(n,r,t){var e,u,i;switch(N(arguments)){case 1:r=n;n=0;t=1;break;case 2:t=1;break;case 3:break;default:throw new Error("Bad arguments length, available signatures are for arguments length 1, 2 and 3")}i=Math.ceil(Math.abs(r-n)/t);e=new Array(i);n-=t;u=-1;while(++u<i){e[u]=n+=t}return e};Zr=function(n,r){return r[n]};$r=function(n){var r;r=Q(gr(n));return[r,Zr(r,n)]};nt=function(n,r,t){var e,u,i,o,a,f,c;if(t==null){t=0}i=r.sons;t++;for(e=o=0,f=i.length;o<f;e=++o){u=i[e];n(u,r,e,t)}for(a=0,c=i.length;a<c;a++){u=i[a];nt(n,u,t)}return r};xt=function(n,r){return n+r};c=Vr(rt,xt);vt=function(n,r,t){return t[n]=r};Yt=function(n){var r,t;t=Date.now();n();r=Date.now();return r-t};D="undefined"!==typeof module&&module.exports||{};D.a_contains=t;D.a_each=e;D.a_filter=u;D.a_index_of=i;D.a_map=o;D.a_reduce=a;D.a_reject=f;D.a_sum=c;D.and2=s;D.assign=h;D.apply=l;D.bind=g;D.butlast=_;D.cat=v;D.clone=m;D.clonedeep=w;D.clonedeep2=Kt;D.comma=y;D.compact=b;D.compose=j;D.complement=E;D.concat=v;D.contains=k;D.count=N;D.debounce=A;D.dec=T;D.defaults=O;D.delay=x;D.detect=L;D.drop=U;D.each=I;D.extend=h;D.fastbind=g;D.flow=W;D.first=Q;D.filter=M;D.filter_fn=S;D.filter_obj=R;D.filter_obj_1kv=X;D.filter_obj_2kv=F;D.filter_prop=K;D.find=L;D.find_index=V;D.find_index_fn=q;D.find_index_prop=J;D.find_index_obj_1kv=B;D.find_index_obj_2kv=G;D.find_index_obj=z;D.get=Zr;D.head=Z;D.inc=$;D.index_of=nr;D.invoke=rr;D.is_array=tr;D.is_defined=ur;D.is_empty=ir;D.is_function=or;D.is_mergeable=ar;D.is_number=fr;D.is_object=cr;D.is_plain_object=sr;D.is_string=lr;D.is_zero=hr;D.jquery_wrap_to_array=pr;D.j2a=pr;D.keys=gr;D.last=_r;D.list=vr;D.list_compact=mr;D.map=wr;D.match=jr;D.merge=kr;D.mk_regexp=Nr;D.multicall=Ar;D.no_operation=Ur;D.noop=Ur;D.not_array=Ir;D.not_defined=Yr;D.not_empty=Hr;D.not_function=Dr;D.not_number=Sr;D.not_object=Rr;D.not_string=Xr;D.not_zero=Fr;D.o_map=Kr;D.o_match=Lr;D.partial=Vr;D.pbind=zr;D.pt=Vr;D.ptr=qr;D.partialr=qr;D.pipeline=W;D.pluck=Br;D.pull=Jr;D.push=Qr;D.range=Wr;D.read=Zr;D.recurse=nt;D.reduce=rt;D.reducer=tt;D.reject=et;D.reject_fn=ut;D.reject_obj=it;D.reject_obj_1kv=ot;D.reject_obj_2kv=at;D.reject_prop=ft;D.remap=ct;D.remove=st;D.remove_at=lt;D.repeat=ht;D.rest=pt;D.reverse=gt;D.second=_t;D.set=vt;D.set_difference=mt;D.set_symmetric_difference=dt;D.slice=wt;D.sort=yt;D.space=kt;D.splice=Nt;D.str=At;D.str_breplace=Tt;D.str_join=Ot;D.str_split=Pt;D.sum2=xt;D.sumn=W(vr,Vr(rt,xt));D.take=It;D.tail=Ut;D.throttle=Ct;D.time=Yt;D.unshift=Mt;D.vals=St;D.varynum=Rt;D.write=Xt;return D});